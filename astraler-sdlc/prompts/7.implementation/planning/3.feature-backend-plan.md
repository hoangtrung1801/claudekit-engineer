## Prompt: Create Feature Backend Implementation Plan

**Role:**  
You are a Senior Backend Developer creating a detailed implementation plan with trackable tasks for a specific feature within a domain.

**Task:**  
I will provide you with Feature specification from Domain documents. Create a comprehensive implementation plan document with checklist tasks for this feature's backend implementation.

**Output:**  
A markdown document saved to `docs/7.implementation/domains/[domain]/features/[feature]/backend-plan.md`

---

## Instructions

### Step 1: Identify Feature

Ask or identify from context:
- **Domain Name:** (e.g., auth, project-management)
- **Feature Name:** (e.g., user-registration, jwt-authentication)
- **Feature ID:** (e.g., AUTH-01, PM-03)

### Step 2: Analyze Input Documents

Read and analyze:
1. **Domain Planning** - Find feature specification
2. **Domain TDD** - Find API specs for this feature
3. **Domain Backend Plan** - Understand context

### Step 3: Generate Implementation Plan

Create a focused implementation plan for this specific feature.

---

## Output Template

```markdown
# Feature Backend Plan: [Feature Name]

> **Domain:** [Domain Name]  
> **Feature:** [Feature Name]  
> **Feature ID:** [FEAT-ID]  
> **Status:** üî¥ Not Started  
> **Created:** [Current Date]  
> **Last Updated:** [Current Date]  
> **Progress:** 0/X tasks completed

---

## 1. Feature Overview

**Description:** [Brief description of what this feature does]

**User Story:**
> As a [role], I want to [action] so that [benefit].

**Acceptance Criteria:**
- [ ] Criterion 1
- [ ] Criterion 2
- [ ] Criterion 3

**API Endpoints:**
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/v1/...` | ... |
| GET | `/api/v1/...` | ... |

---

## 2. Prerequisites

- [ ] Domain backend setup completed
- [ ] Related database models exist
- [ ] Dependencies installed

---

## 3. Implementation Tasks

### 3.1 Database Changes (if any)

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-DB-001 | Add/modify schema fields | Xh | ‚¨ú |
| [F]-DB-002 | Create migration | Xh | ‚¨ú |

**Checklist:**
- [ ] **[F]-DB-001**: [Specific database change]
- [ ] **[F]-DB-002**: Run migration

### 3.2 DTOs

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-DTO-001 | Create [Feature]RequestDto | 1h | ‚¨ú |
| [F]-DTO-002 | Create [Feature]ResponseDto | 0.5h | ‚¨ú |

**Checklist:**
- [ ] **[F]-DTO-001**: Create request DTO with validation
- [ ] **[F]-DTO-002**: Create response DTO

### 3.3 Service Methods

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-SVC-001 | Implement [method1] | Xh | ‚¨ú |
| [F]-SVC-002 | Implement [method2] | Xh | ‚¨ú |
| [F]-SVC-003 | Add error handling | 1h | ‚¨ú |

**Checklist:**
- [ ] **[F]-SVC-001**: Implement [method1] with business logic
- [ ] **[F]-SVC-002**: Implement [method2]
- [ ] **[F]-SVC-003**: Handle edge cases and errors

### 3.4 Controller Endpoints

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-CTL-001 | Create [endpoint1] | 1h | ‚¨ú |
| [F]-CTL-002 | Create [endpoint2] | 1h | ‚¨ú |
| [F]-CTL-003 | Add Swagger docs | 0.5h | ‚¨ú |

**Checklist:**
- [ ] **[F]-CTL-001**: Implement POST/GET/etc endpoint
- [ ] **[F]-CTL-002**: Implement related endpoint
- [ ] **[F]-CTL-003**: Add API documentation

### 3.5 Guards/Middleware (if needed)

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-GRD-001 | Apply guards | 0.5h | ‚¨ú |

**Checklist:**
- [ ] **[F]-GRD-001**: Apply appropriate guards

### 3.6 Tests

| ID | Task | Est. | Status |
|----|------|------|--------|
| [F]-TST-001 | Unit tests for service | 2h | ‚¨ú |
| [F]-TST-002 | E2E tests for endpoint | 2h | ‚¨ú |

**Checklist:**
- [ ] **[F]-TST-001**: Test all service methods
- [ ] **[F]-TST-002**: Test API endpoints

---

## 4. Files to Create/Modify

```
backend/src/modules/[domain]/
‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ [feature]-request.dto.ts    # New
‚îÇ   ‚îî‚îÄ‚îÄ [feature]-response.dto.ts   # New
‚îú‚îÄ‚îÄ [domain].service.ts             # Modify - add methods
‚îú‚îÄ‚îÄ [domain].controller.ts          # Modify - add endpoints
‚îî‚îÄ‚îÄ tests/
    ‚îî‚îÄ‚îÄ [feature].spec.ts           # New
```

---

## 5. Verification Checklist

- [ ] All tasks completed
- [ ] API endpoints working (test with Swagger/Postman)
- [ ] Business logic correct
- [ ] Error handling complete
- [ ] Unit tests passing
- [ ] E2E tests passing
- [ ] Acceptance criteria met

---

## 6. Notes

### Implementation Notes
- [Space for notes]

### Issues
- [Space for issues]

---

**Next Step:** After completing backend, proceed to Feature Frontend Plan.
```

---

## Variable Replacements

| Placeholder | Description | Example |
|-------------|-------------|---------|
| `[Feature Name]` | Human-readable | "User Registration" |
| `[feature]` | kebab-case | "user-registration" |
| `[F]` | Short feature prefix | "REG", "LOGIN", "CRUD" |
| `[FEAT-ID]` | Feature ID from planning | "AUTH-01" |

---

## üìÅ Output Path

```
docs/7.implementation/domains/[domain]/features/[feature]/backend-plan.md
```

**Example:**
- `docs/7.implementation/domains/auth/features/user-registration/backend-plan.md`
- `docs/7.implementation/domains/auth/features/jwt-auth/backend-plan.md`

